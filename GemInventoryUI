-- File: StarterGui/GemInventoryUI (LocalScript)
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local GemConfig = require(ReplicatedStorage:WaitForChild("GemConfig"))
local remoteGemDrop = ReplicatedStorage:WaitForChild("SuKienNhatGem")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- 1. T·∫†O GIAO DI·ªÜN
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GemUI"
screenGui.Parent = playerGui

local frame = Instance.new("ScrollingFrame")
frame.Name = "InventoryFrame"
frame.Size = UDim2.new(0.15, 0, 0.4, 0)
frame.Position = UDim2.new(0, 10, 0.3, 0)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
frame.BackgroundTransparency = 0.5
frame.BorderSizePixel = 2
frame.BorderColor3 = Color3.fromRGB(255, 215, 0)
frame.Parent = screenGui

local layout = Instance.new("UIGridLayout")
layout.CellSize = UDim2.new(0.45, 0, 0.2, 0)
layout.CellPadding = UDim2.new(0.03, 0, 0.02, 0)
layout.Parent = frame

-- 2. H√ÄM TH√äM GEM V√ÄO T√öI
local function ThemGemVaoTui(gemID)
	local info = GemConfig[gemID]
	if not info then return end
	
	local itemBtn = Instance.new("TextButton")
	itemBtn.Name = gemID
	itemBtn.BackgroundColor3 = info.Color
	itemBtn.Text = "" 
	itemBtn.Parent = frame
	
	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0.2, 0)
	corner.Parent = itemBtn
	
	local lblName = Instance.new("TextLabel")
	lblName.Text = info.Name
	lblName.Size = UDim2.new(1,0,1,0)
	lblName.BackgroundTransparency = 1
	lblName.Font = Enum.Font.SourceSansBold
	lblName.TextColor3 = Color3.new(1,1,1)
	lblName.TextWrapped = true
	lblName.Parent = itemBtn
	
	itemBtn.MouseButton1Click:Connect(function()
		print("ƒê√£ ch·ªçn ng·ªçc: " .. info.Name)
	end)
end

-- 3. NH·∫¨N T√çN HI·ªÜU T·ª™ SERVER
remoteGemDrop.OnClientEvent:Connect(function(gemID)
	print("üéÅ Client ƒë√£ nh·∫≠n ƒë∆∞·ª£c ng·ªçc: " .. gemID)
	ThemGemVaoTui(gemID)
end)
