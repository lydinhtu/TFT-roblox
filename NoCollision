local PhysicsService = game:GetService("PhysicsService")
local groupName = "NhomNPC"

-- 1. Táº¡o nhÃ³m va cháº¡m má»›i
local success, err = pcall(function()
	PhysicsService:RegisterCollisionGroup(groupName)
end)

-- 2. CÃ i Ä‘áº·t: NhÃ³m nÃ y KHÃ”NG va cháº¡m vá»›i chÃ­nh nÃ³
-- (Tá»©c lÃ  NPC Ä‘i xuyÃªn qua NPC)
PhysicsService:CollisionGroupSetCollidable(groupName, groupName, false)

-- 3. HÃ m gÃ¡n NPC vÃ o nhÃ³m
local function GanNhomVaCham(model)
	if model:IsA("Model") then
		for _, part in pairs(model:GetDescendants()) do
			if part:IsA("BasePart") then
				part.CollisionGroup = groupName
			end
		end
	end
end

-- 4. Tá»± Ä‘á»™ng Ã¡p dá»¥ng cho má»i NPC má»›i sinh ra trong Workspace
workspace.ChildAdded:Connect(function(child)
	-- Äá»£i 1 chÃºt Ä‘á»ƒ cháº¯c cháº¯n NPC táº£i xong
	task.wait(0.1)
	if child:FindFirstChild("Humanoid") then
		GanNhomVaCham(child)
		print("ğŸ‘» ÄÃ£ táº¯t va cháº¡m cho: " .. child.Name)
	end
end)

-- Ãp dá»¥ng cho cÃ¡c NPC Ä‘ang cÃ³ sáºµn trÃªn map lÃºc báº¯t Ä‘áº§u game
for _, child in pairs(workspace:GetChildren()) do
	if child:FindFirstChild("Humanoid") then
		GanNhomVaCham(child)
	end
end
